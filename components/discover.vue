<template>
  <section>
    <h3 class="title width uc">Feeling adventurous? Random
      <span>
        <svg class="random" width="30" height="30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M27.48 13.76c0-6.36-5.2-11.56-11.56-11.56v11.56l8.16 8.16c2.08-2.08 3.4-4.96 3.4-8.16zm-2.24 5.36c-.36 0-.64-.32-.64-.64 0-.36.28-.64.64-.64s.64.28.64.64c0 .32-.28.64-.64.64zm-1.16-7.6c.36 0 .64.32.64.64 0 .36-.28.68-.64.68s-.64-.32-.64-.68c0-.32.28-.64.64-.64zm-.56-1.64c0-.36.32-.64.64-.64.36 0 .64.28.64.64 0 .32-.28.64-.64.64-.32 0-.64-.32-.64-.64zm1.56 4.24c0 .36-.28.64-.64.64s-.64-.28-.64-.64.28-.64.64-.64.64.28.64.64zm-.84 1.16c.36 0 .64.32.64.64 0 .36-.28.64-.64.64s-.64-.28-.64-.64c0-.32.28-.64.64-.64zm1.64 1.6c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm-.64-4.4c0-.36.28-.64.64-.64s.64.28.64.64-.28.64-.64.64-.64-.28-.64-.64zm1.8 1.8c0 .36-.28.64-.64.64s-.64-.28-.64-.64.28-.64.64-.64.64.28.64.64zm-1.16-4.56c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zM24.6 7.4c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-1.24-1.76c.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64s.28-.64.64-.64zm-.88 5.48c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-.64-1c0-.36.28-.64.64-.64s.64.28.64.64-.28.64-.64.64-.64-.28-.64-.64zm.48 2.88c.36 0 .64.28.64.64s-.28.64-.64.64c-.32 0-.64-.28-.64-.64s.32-.64.64-.64zm.2 2.44c.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64s.28-.64.64-.64zm.12-6.6c-.36 0-.64-.28-.64-.64s.28-.64.64-.64c.32 0 .64.28.64.64s-.32.64-.64.64zm-.56-4.48c.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64s.28-.64.64-.64zm-1.72-.72c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-.04 8.28c0-.36.28-.64.64-.64s.64.28.64.64-.28.64-.64.64-.64-.28-.64-.64zm.48 1.68c0 .32-.32.64-.64.64-.36 0-.64-.32-.64-.64 0-.36.28-.64.64-.64.32 0 .64.28.64.64zm-.84-2.52c-.36 0-.64-.28-.64-.64s.28-.64.64-.64c.32 0 .64.28.64.64s-.32.64-.64.64zm-1.48.68c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm.6 1.12c0 .36-.28.64-.64.64s-.64-.28-.64-.64c0-.32.28-.64.64-.64s.64.32.64.64zm-.32-3c-.32 0-.64-.32-.64-.64 0-.36.32-.64.64-.64.36 0 .64.28.64.64 0 .32-.28.64-.64.64zm.36-3.72c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm.2 1.68c0-.36.28-.64.64-.64.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64zM18.92 3c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-.48 3.56c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-1.28-3.84c.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64s.28-.64.64-.64zm-.2 4.72c-.36 0-.64-.28-.64-.64 0-.32.28-.64.64-.64s.64.32.64.64c0 .36-.28.64-.64.64zm.64 1.48c0 .36-.28.64-.64.64s-.64-.28-.64-.64.28-.64.64-.64.64.28.64.64zm-.76-4.56c.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64s.28-.64.64-.64zm0 5.76c.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64s.28-.64.64-.64zm.12 3.84c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm1.12 1.24c-.32 0-.64-.28-.64-.64s.32-.64.64-.64c.36 0 .64.28.64.64s-.28.64-.64.64zm1.28 1c-.32 0-.64-.28-.64-.64s.32-.64.64-.64c.36 0 .68.28.68.64s-.32.64-.68.64zm1.32 1.48c-.36 0-.68-.28-.68-.64s.32-.64.68-.64c.32 0 .64.28.64.64s-.32.64-.64.64zm.32-2c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm0-5.88c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm.2-2.44c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm1.12 11.8c-.32 0-.64-.28-.64-.64s.32-.64.64-.64c.36 0 .64.28.64.64s-.28.64-.64.64zm.84-1.44c0-.32.28-.64.64-.64.32 0 .64.32.64.64 0 .36-.32.64-.64.64-.36 0-.64-.28-.64-.64zm.2 2.48c0-.36.28-.64.64-.64.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64zM15.92.6v.92C22.68 1.52 28.2 7 28.2 13.76c0 3.36-1.4 6.44-3.6 8.68l.64.64c2.36-2.4 3.84-5.68 3.84-9.32C29.08 6.52 23.2.6 15.92.6zM.76 13.76c0 3.64 1.48 6.92 3.88 9.32l.64-.64c-2.24-2.24-3.6-5.32-3.6-8.68C1.68 7 7.16 1.52 13.92 1.52V.6C6.68.6.76 6.52.76 13.76zm1.64 0c0 3.2 1.28 6.08 3.36 8.16l8.16-8.16V2.2C7.56 2.2 2.4 7.4 2.4 13.76zM12.56 3c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm.76 4.64c0 .36-.28.64-.64.64s-.64-.28-.64-.64.28-.64.64-.64.64.28.64.64zm-.88-2.52c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-.56 3.6c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-.64-.64c0 .32-.32.64-.64.64-.36 0-.64-.32-.64-.64 0-.36.28-.68.64-.68.32 0 .64.32.64.68zm-.8-1.28c-.36 0-.64-.28-.64-.64 0-.32.28-.64.64-.64.32 0 .64.32.64.64 0 .36-.32.64-.64.64zm-.08-3.16c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zM7.92 13.72c.36 0 .64.32.64.64 0 .36-.28.68-.64.68s-.64-.32-.64-.68c0-.32.28-.64.64-.64zm-.96-1.16c0-.36.28-.64.64-.64s.64.28.64.64-.28.64-.64.64-.64-.28-.64-.64zm.96-1.04c-.36 0-.64-.32-.64-.68 0-.32.28-.64.64-.64s.64.32.64.64c0 .36-.28.68-.64.68zm.4-2.36c0-.36.28-.64.64-.64s.64.28.64.64-.28.64-.64.64-.64-.28-.64-.64zM9.44 7.2c0 .36-.28.64-.64.64s-.64-.28-.64-.64.28-.64.64-.64.64.28.64.64zM8.16 4.8c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zM8 8.72c0 .36-.28.64-.64.64s-.64-.28-.64-.64.28-.64.64-.64.64.28.64.64zm-2.08 5.4c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-.8-1.4c0-.36.32-.64.64-.64.36 0 .64.28.64.64s-.28.64-.64.64c-.32 0-.64-.28-.64-.64zm1-1.48c-.32 0-.64-.28-.64-.64s.32-.64.64-.64c.36 0 .64.28.64.64s-.28.64-.64.64zm.28-5.08c.36 0 .68.32.68.64 0 .36-.32.64-.68.64-.32 0-.64-.28-.64-.64 0-.32.32-.64.64-.64zM5.12 7.88c.36 0 .64.28.64.64s-.28.64-.64.64c-.32 0-.64-.28-.64-.64s.32-.64.64-.64zm-.96 2.32c.36 0 .64.32.64.64 0 .36-.28.64-.64.64s-.64-.28-.64-.64c0-.32.28-.64.64-.64zm-.96 3c0-.36.28-.64.64-.64s.64.28.64.64-.28.64-.64.64-.64-.28-.64-.64zm.24 2c0-.36.28-.64.64-.64.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64zm.92 2.96c-.32 0-.64-.28-.64-.64s.32-.64.64-.64c.36 0 .64.28.64.64s-.28.64-.64.64zm1.28 2.2c-.32 0-.64-.28-.64-.64s.32-.64.64-.64c.36 0 .64.28.64.64s-.28.64-.64.64zm.2-3.6c0-.32.28-.64.64-.64s.64.32.64.64c0 .36-.28.64-.64.64s-.64-.28-.64-.64zm1.52 2.32c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm.72-2.52c-.32 0-.64-.28-.64-.64 0-.32.32-.64.64-.64.36 0 .68.32.68.64 0 .36-.32.64-.68.64zm.6-4c0-.36.28-.64.64-.64.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64zm.92 1.36c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm.12 3.28c-.36 0-.64-.28-.64-.64 0-.32.28-.64.64-.64s.64.32.64.64c0 .36-.28.64-.64.64zm.24-5.72c-.36 0-.64-.28-.64-.64 0-.32.28-.64.64-.64.32 0 .64.32.64.64 0 .36-.32.64-.64.64zm1.2.84c.36 0 .64.28.64.64 0 .32-.28.64-.64.64s-.64-.32-.64-.64c0-.36.28-.64.64-.64zm.08 3.2c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm.2-3.76c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm1.44 1.44c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm.08-1.96c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm2.96 5V27.8c3.2 0 6.08-1.32 8.16-3.4l-8.16-8.16zm4 4.6c.36 0 .64.28.64.64s-.28.64-.64.64c-.32 0-.64-.28-.64-.64s.32-.64.64-.64zm-1.48-1.56c.32 0 .64.32.64.64 0 .36-.32.64-.64.64-.36 0-.64-.28-.64-.64 0-.32.28-.64.64-.64zm-1.28-1.12c.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64s.28-.64.64-.64zM17.04 20c.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64s.28-.64.64-.64zm-.72 2.36c0-.36.28-.64.64-.64s.64.28.64.64-.28.64-.64.64-.64-.28-.64-.64zm.84 4.76c-.36 0-.64-.28-.64-.64s.28-.64.64-.64c.32 0 .64.28.64.64s-.32.64-.64.64zm0-2.16c-.36 0-.64-.28-.64-.64s.28-.64.64-.64c.32 0 .64.28.64.64s-.32.64-.64.64zm.48-3.4c0-.36.28-.64.64-.64s.64.28.64.64-.28.64-.64.64-.64-.28-.64-.64zm1.24 2.16c.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.68-.28-.68-.64s.32-.64.68-.64zm.04 3c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm.48-3.2c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm1.16 2.56c-.32 0-.64-.28-.64-.64s.32-.64.64-.64c.36 0 .68.28.68.64s-.32.64-.68.64zm.44-2.36c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zM22.16 25c-.36 0-.64-.28-.64-.64s.28-.64.64-.64c.32 0 .64.28.64.64s-.32.64-.64.64zm-6.24 3.48v.92c3.64 0 6.92-1.44 9.32-3.84l-.64-.64c-2.24 2.2-5.28 3.56-8.68 3.56zM5.28 24.92l-.64.64c2.36 2.4 5.64 3.84 9.28 3.84v-.92c-3.36 0-6.44-1.36-8.64-3.56zm8.64 2.88V16.24L5.76 24.4c2.12 2.08 5 3.4 8.16 3.4zm-4.84-1.72c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm1.72.64c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zM10.04 24c0-.36.28-.64.64-.64s.64.28.64.64-.28.64-.64.64-.64-.28-.64-.64zm1.48.88c0-.36.28-.64.64-.64.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64zm1.32 2.24c-.36 0-.64-.28-.64-.64s.28-.64.64-.64c.32 0 .64.28.64.64s-.32.64-.64.64zm.16-2.88c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zM12.2 22c0-.36.28-.64.64-.64.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.64-.28-.64-.64zm.8-.88c-.36 0-.64-.28-.64-.64s.28-.64.64-.64.64.28.64.64-.28.64-.64.64zm.04-3.44c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zM11.8 18.8c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-.36 1.44c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-.24 1.48c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-1.36-.84c.32 0 .64.28.64.64s-.32.64-.64.64c-.36 0-.68-.28-.68-.64s.32-.64.68-.64zM9 23.08c.36 0 .64.28.64.64s-.28.64-.64.64-.64-.28-.64-.64.28-.64.64-.64zm-1.56.6c.36 0 .68.28.68.64s-.32.64-.68.64c-.32 0-.64-.28-.64-.64s.32-.64.64-.64z" fill="#fff"/></svg>
      </span>
      spots are shown below.
      <span @click="shuffle" class="refresh">
        <span class="refresh--bg"></span>
      </span>
      the list for more offerings ↙
    </h3>

      <ul>
        <li v-for="provision in shuffledProvisions" :key="provision.id">
          <a target="_blank" :href="provision.url">
            <img :src="provision.image" alt="">
            <div class="meta title uc">
              <h4>{{ provision.name }} ↗</h4>
              <h5>{{ provision.type }}</h5>
            </div>
          </a>
        </li>
      </ul>
  </section>
</template>


<style lang="scss" scoped>
  @import '../style/grid.scss';

  section {
    position: relative;
    margin-bottom: 40vh;
  }

  h3 {
    font-size: 5.6vw;
    line-height: 1.24;
    @include breakpoint(md)  { font-size: 4vw; line-height: 1.1; }
    @include breakpoint(mdl) { font-size: 3.6vw; }
    // @include breakpoint(lg)  { font-size: 4rem; }
  }

  .random {
    display: none;
    position: relative;
    transform: scale(.64) translateY(.88rem);
    @include breakpoint(md) { display: inherit; transform: scale(1) translateY(.24rem); }
    @include breakpoint(lg) { transform: scale(1) translateY(0rem); }
  }

  .refresh {
    position: relative;
    border-radius: 50%;
    width: 100%; height: 100%;
    cursor: pointer;
  }

  @media(pointer: fine) {
    .refresh:hover {
      color: transparent;
      text-stroke: 1px var(--cucumber);
      -webkit-text-stroke: 1px var(--cucumber);
    }
  }

  .refresh:before { content: 'Refresh'; }

  .refresh--bg {
    position: absolute;
    top: 0; left: 0;
    z-index: var(--zmin);
    border-radius: 50%;
    width: 100%; height: 100%;
    background: #92ff00;
    filter: blur(20px);
    @include breakpoint(md)  { filter: blur(32px); }
  }

  ul {
    overflow-x: auto;
    white-space: nowrap;
    margin: 0 0 0 auto;
    padding-left: 5vw;
    padding: 2.4rem 0 4rem 5vw;
    max-width: 100vw;
    @include breakpoint(md) { padding-top: 4rem; }
  }

  li, a {
    display: inline-flex;
    align-items: center;
    margin-right: 2.4rem;
    @include breakpoint(md) { margin-right: 7.2rem; }
  }

  @media(pointer: fine) {
    a:hover {
      img { border: 3px solid rgba(210, 251, 155, .4); }
      h4 { font-style: italic; }
    }
  }

  li:last-of-type { margin-right: 8vw; }

  img {
    border-radius: 100px;
    border: 3px solid var(--cucumber);
    margin-right: 1.4rem;
    width: 20vw; height: 20vw;
    object-fit: cover;
    @include breakpoint(md) { width: 10vw; height: 10vw; }
  }

  h4 {
    margin-bottom: .2rem;
    font-size: 4vw;
    line-height: 1.1;
    letter-spacing: .8px;
    text-stroke: 1px var(--onion);
    -webkit-text-stroke: 1px var(--onion);
    @include breakpoint(md) {
      font-size: 1.8vw;
      text-stroke: 1.4px var(--onion);
      -webkit-text-stroke: 1.4px var(--onion);
    }
  }

  h5 {
    font-size: 3.2vw;
    opacity: .56;
    @include breakpoint(md) { font-size: 1.6vw; }
  }

</style>


<script>
  import { provisions } from '../static/provisions'
  export default {
    data() {
      return {
        provisions,
        provision: '',
        shuffledProvisions: null
      }
    },
    methods: {
      randoProv : function(e) {
        this.provision = this.provisions[~~(Math.random() * this.provisions.length)]
      },
      shuffle() {
        let provisions = [...this.provisions]
        let first,
          second,
          temp,
          count = provisions.length;
        for (let provision = 0; provision < 10; provision++) {
          first = Math.floor(Math.random() * count)
          second = Math.floor(Math.random() * count)
          temp = provisions[first]
          provisions[first] = provisions[second]
          provisions[second] = temp
        }
        this.shuffledProvisions = provisions.slice(0, 4)
      }
    },
    mounted() {
      this.shuffle()
    },
  }
</script>
